<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporal Patterns - Fine Analysis</title>
    <link rel="stylesheet" href="./css/timeline-css.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Traffic Fines Temporal Analysis</h1>
            <p>Explore patterns in speeding fines across age groups and jurisdictions</p>
        </header>

        <div class="controls">
            <div class="control-group">
                <label for="jurisdiction">Jurisdiction:</label>
                <select id="jurisdiction">
                    <option value="all">All Jurisdictions</option>
                </select>
            </div>
            <div class="control-group">
                <label for="ageGroup">Age Group:</label>
                <select id="ageGroup">
                    <option value="all">All Age Groups</option>
                </select>
            </div>
            <div class="control-group">
                <label for="timeRange">Time Range:</label>
                <select id="timeRange">
                    <option value="all">All Time</option>
                    <option value="1year">Last 1 Year</option>
                    <option value="2years">Last 2 Years</option>
                </select>
            </div>
            <div class="control-group">
                <label for="chartType">Chart Type:</label>
                <select id="chartType">
                    <option value="line">Line Chart</option>
                    <option value="bar">Bar Chart</option>
                    <option value="stacked">Stacked Area</option>
                </select>
            </div>
            <button id="resetFilters" class="reset-btn">Reset Filters</button>
        </div>

        <div class="charts-container">
            <div class="chart-card full-width">
                <h3>Monthly Fines Trend</h3>
                <div id="lineChart" class="chart"></div>
            </div>

            <div class="chart-card">
                <h3>Fines by Age Group</h3>
                <div id="ageGroupChart" class="chart"></div>
            </div>

            <div class="chart-card">
                <h3>Jurisdiction Comparison</h3>
                <div id="jurisdictionChart" class="chart"></div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <h4>Total Fines</h4>
                    <div class="stat-value" id="totalFines">-</div>
                    <div class="stat-desc">across period</div>
                </div>
                <div class="stat-card">
                    <h4>Peak Month</h4>
                    <div class="stat-value" id="peakMonth">-</div>
                    <div class="stat-desc" id="peakMonthCount">-</div>
                </div>
                <div class="stat-card">
                    <h4>Dominant Age Group</h4>
                    <div class="stat-value" id="dominantAge">-</div>
                    <div class="stat-desc">most fines</div>
                </div>
                <div class="stat-card">
                    <h4>Prediction Rate</h4>
                    <div class="stat-value" id="predictionRate">-</div>
                    <div class="stat-desc">high-risk periods</div>
                </div>
            </div>
        </div>

        <div class="data-table">
            <h3>Detailed Data View</h3>
            <div class="table-container">
                <table id="finesTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Jurisdiction</th>
                            <th>Age Group</th>
                            <th>Fines</th>
                            <th>Arrests</th>
                            <th>Charges</th>
                            <th>Risk Prediction</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="./js/timeline-graphs.js"></script>
</body>
</html>
